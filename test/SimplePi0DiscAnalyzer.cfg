
#
# extract the pi0 dicrimination variable for each photon  
#
# authors A. Kyriakis NCSR "Demokritos" Athens
#         D. Maletic Vinca "Belgrate"
#
process PiZeroAnalysis = 
{

  # initialize  MessageLogger
  include "FWCore/MessageLogger/data/MessageLogger.cfi"

  untracked PSet maxEvents = {untracked int32 input = -1}

  # input module. assume root file contains EcalRecHits
  source = PoolSource 
  {
    # Number of events program should run
#
    untracked vstring fileNames = {
     'rfio:/castor/cern.ch/user/a/akyriaki/GammaJet/CMSSW160Prod/Ptbin_20/RECO_noPU/GammaJet_50evt_Ptbin_20_allReco_Run_1_noPU.root'
    }
  }

 # geometry needed for clustering
  include "RecoEcal/EgammaClusterProducers/data/geometryForClustering.cff"

 # pi0 discrimination variables
  include "RecoEcal/EgammaClusterProducers/data/piZeroDiscriminators.cfi"

  # analyse photons and check for pi0 
#  include "RecoEgamma/Examples/data/simplePi0DiscAnalyzer.cfi"

  module simplePi0DiscAnalyzer = SimplePi0DiscAnalyzer {

    string outputFile = "/tmp/akyriaki/simplePi0DiscAnalyzer_fromfull_assoc.root"

    string phoProducer = "photons"
    string corrPhoProducer = "correctedPhotons"
    string uncorrectedPhotonCollection = ""
    string correctedPhotonCollection   = ""
}


  # create path with all clustering algos
  path p = {piZeroDiscriminators, simplePi0DiscAnalyzer }

}
